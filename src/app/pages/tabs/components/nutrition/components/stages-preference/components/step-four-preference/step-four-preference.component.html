@if (step === 4) {
  <div>
    <ion-card>
      <ion-card-header>
        <ion-card-title  class="card-title">{{questionsAllergy[0]}}</ion-card-title>
        <ion-card-subtitle>SELECCIONA UNA OPCIÃ“N</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content class="content-layout">
        @for (opciones of firstCard; track opciones; let i = $index) {
          <div class="layout" [ngClass]="{ hasSelect: selectedIndexes['first'] === i }" (click)="selectOption(i, 'first')"
            >
            <ion-label class="ion-text-start value">{{ opciones }}</ion-label>
            @if (selectedIndexes['first'] === i) {
              <ion-icon
              src="assets/wellness-icons/nutrition/check_circle.svg"></ion-icon>
            }
          </div>
        }
      </ion-card-content>
    </ion-card>
    @if (showSecondCard) {
      <ion-card>
        <ion-card-header>
          <ion-card-title  class="card-title">{{questionsAllergy[1]}}</ion-card-title>
          <ion-card-subtitle>Selecciona todas las que correspondan</ion-card-subtitle>
        </ion-card-header>
        @if (secondCard.length > 0) {
          <ion-card-content class="content-layout">
            @for (opciones of secondCard; track opciones; let i = $index) {
              <div class="layout" (click)="selectOptionArray(i, opciones)"
                [ngClass]="{'hasSelect': selectedOptionIndexes.includes(i)}">
                <ion-label class="ion-text-start value">{{ opciones.description }}</ion-label>
                @if (selectedIndexes['second'] === i) {
                  <ion-icon
                  src="assets/wellness-icons/nutrition/check_circle.svg"></ion-icon>
                }
              </div>
            }
          </ion-card-content>
        }
        <form [formGroup]="stepFourPreferenceForm">
          @if (secondCard.length > 0) {
            <ion-card-content class="content-layout">
              <ion-label  class="ion-text-start">Otros </ion-label>
              <div class="layout-not-padding" >
                <ion-input class="ion-no-padding" maxlength="255" formControlName="other"></ion-input>
              </div>
            </ion-card-content>
          }
        </form>
      </ion-card>
    }
  </div>
}